# SEC EDGAR Financial Statement Data

## Source

**SEC EDGAR Financial Statement Data Sets**
https://www.sec.gov/dera/data/financial-statement-data-sets

## License

US Government Public Domain

## How This Data Was Produced

The JSON file was generated by downloading the quarterly ZIP archive from SEC EDGAR
and processing it locally with the included `process_sec.py` script.

### Steps

1. The script downloads the ZIP archive from:
   `https://www.sec.gov/files/dera/data/financial-statement-data-sets/{quarter}.zip`

2. The ZIP contains 4 tab-delimited relational tables:
   - **SUB** (submissions) - Company metadata, filing info, CIK, SIC codes
   - **NUM** (numeric data) - XBRL-tagged financial facts with values
   - **TAG** (tag definitions) - Human-readable labels and documentation
   - **PRE** (presentation) - Statement placement, line ordering, display labels

3. The script filters to annual 10-K filings from well-known public companies,
   joins all 4 tables, and outputs structured JSON grouped by financial statement
   type (Balance Sheet, Income Statement, Cash Flows, etc.)

### Reproducing

```bash
# Install dependencies
pip install polars

# Generate with default quarter (2025q4)
python process_sec.py

# Generate for a different quarter
python process_sec.py --quarter 2025q3
```

### Output Schema

The output is a JSON array of company objects. Each company is a flat, homogeneous object with `statements` nested inside:

```json
[
  {
    "name": "APPLE INC",
    "cik": 320193,
    "sic": 3571,
    "state": "CA",
    "city": "CUPERTINO",
    "filing": "10-K",
    "statements": [
      {
        "statement": "Balance Sheet",
        "line_items": [ ... ]
      }
    ]
  }
]
```

This homogeneous structure enables optimal TeaLeaf encoding with `@struct company(...)` + `@table company[...]`.

Each line item has a uniform 7-field shape for optimal TeaLeaf schema inference:

| Field | Type | Description |
|-------|------|-------------|
| `tag` | string | XBRL tag name |
| `label` | string | Human-readable presentation label |
| `value` | float | Numeric value |
| `period_end` | string | Reporting period end date (YYYYMMDD) |
| `quarters` | int | 0 = point-in-time, 4 = full fiscal year |
| `normal_balance` | string | "credit", "debit", or "" |
| `definition` | string | Tag documentation (truncated to 200 chars) |

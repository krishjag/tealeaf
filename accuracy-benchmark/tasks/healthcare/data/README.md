# CDC PLACES County Health Indicator Data

## Source

**CDC PLACES: Local Data for Better Health, County Data 2025 Release**
https://data.cdc.gov/500-Cities-Places/PLACES-Local-Data-for-Better-Health-County-Data-20/swc5-untb

## License

US Government Public Domain

## How This Data Was Produced

The JSON file was generated by querying the CDC PLACES SODA API on data.cdc.gov
and processing it locally with the included `process_places.py` script.

### Steps

1. The script queries the Socrata Open Data API (SODA) at:
   `https://data.cdc.gov/resource/swc5-untb.json`

2. The PLACES dataset provides county-level health indicator estimates derived from the
   **Behavioral Risk Factor Surveillance System (BRFSS)**, a CDC telephone survey of
   400,000+ US adults annually. Estimates are model-based small area estimates that
   combine BRFSS responses with Census demographics to produce county-level prevalence.

3. The script filters to:
   - A single state (default: Washington)
   - 10 counties representing urban, suburban, and rural populations
   - Crude prevalence only (avoiding duplication with age-adjusted estimates)

4. The output is hierarchically structured JSON: counties contain category-grouped
   health measures, each with a nested confidence interval object.

### Reproducing

```bash
# Install dependencies
pip install polars requests

# Generate with default settings (WA state, 10 counties)
python process_places.py

# Generate for a different state
python process_places.py --state CA

# Specify exact counties
python process_places.py --state WA --counties King Pierce Spokane Ferry

# Auto-select N most populous counties for any state
python process_places.py --state TX --limit 15
```

### Output Schema

The output is a JSON object with metadata at the top level and a nested `counties` array:

```json
{
  "source": "CDC PLACES: Local Data for Better Health, County Data 2025 Release",
  "license": "US Government Public Domain",
  "year": 2023,
  "state": "Washington",
  "categories": [ ... ],
  "counties": [
    {
      "name": "King",
      "fips": "53033",
      "population": 2271380,
      "adult_population": 1837550,
      "health_data": {
        "HLTHOUT": [
          {
            "measure_id": "ARTHRITIS",
            "short_name": "Arthritis",
            "measure": "Arthritis among adults aged >=18 years",
            "value": 19.4,
            "confidence_interval": { "low": 18.0, "high": 20.8 }
          },
          ...
        ],
        "PREVENT": [ ... ],
        ...
      }
    },
    ...
  ]
}
```

**`categories`** — 6 health measure categories (uniform 3-field objects):

| Field | Type | Description |
|-------|------|-------------|
| `id` | string | Category code (e.g., HLTHOUT, PREVENT) |
| `name` | string | Human-readable name |
| `description` | string | Brief description |

**`counties`** — County with demographics and nested health data:

| Field | Type | Description |
|-------|------|-------------|
| `name` | string | County name |
| `fips` | string | 5-digit FIPS code |
| `population` | int | Total population |
| `adult_population` | int | Population aged 18+ |
| `health_data` | object | Category-keyed measure groups |

**`health_data`** — Object keyed by category ID (HLTHOUT, HLTHSTAT, PREVENT, RISKBEH, DISABLT):

Each value is an array of measure objects:

| Field | Type | Description |
|-------|------|-------------|
| `measure_id` | string | Measure code (e.g., OBESITY, DIABETES) |
| `short_name` | string | Short display name |
| `measure` | string | Full measure description |
| `value` | float | Crude prevalence (%) |
| `confidence_interval` | object | `{low, high}` — 95% CI bounds |

This nested structure produces 9 TeaLeaf schemas: a `confidence_interval` struct reused across all 330 measures, per-category measure structs, a `health_data` struct, and a `county` struct.
